
<form [class.submitted]="isSubmitted()" (ngSubmit)="onSubmit()" [formGroup]="form" class="order-form">

  <mat-list formGroupName="identity">
    <h3 matSubheader>Account Information</h3>

    <mat-list-item>

      <mat-form-field class="example-full-width">
        <input matInput formControlName="firstName" placeholder="First Name">
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <input matInput formControlName="lastName" placeholder="Last Name">
      </mat-form-field>

    </mat-list-item>
    <mat-list-item>

      <mat-form-field class="example-full-width">
        <input matInput #email formControlName="email" placeholder="Email">
      </mat-form-field>

    </mat-list-item>

    </mat-list>


    <mat-list formGroupName="shipping">
    <h3 matSubheader>Shipping Address</h3>

    <mat-list-item >
      <p>
        <mat-form-field class="example-full-width">
          <textarea matInput formControlName="street" placeholder="Address">1600 Amphitheatre Pkwy</textarea>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <textarea matInput placeholder="Address 2"></textarea>
        </mat-form-field>
      </p>

    </mat-list-item>
    <mat-list-item >

            <mat-form-field>
              <input matInput formControlName="city" placeholder="City">
            </mat-form-field>
            <mat-form-field >
              <input matInput formControlName="country" placeholder="Country">
            </mat-form-field>
            <mat-form-field >
              <input matInput formControlName="zipCode" #postalCode maxlength="6" placeholder="Postal Code">
              <mat-hint align="end">{{postalCode.value.length}} / 6</mat-hint>
            </mat-form-field>

    </mat-list-item>

    </mat-list>
   <mat-list>
      <h3 matSubheader>Billing Address</h3>

     <mat-list-item>
    <mat-checkbox (change)="updateBilling()" formControlName="sameAddress">Use the same Address</mat-checkbox>
  </mat-list-item>
</mat-list>


<mat-list  *ngIf="!form.value.sameAddress" formGroupName="billing">
    <h3 matSubheader>Shipping Address</h3>
    <mat-list-item >
      <p>

        <mat-form-field class="example-full-width">
          <textarea matInput formControlName="street" placeholder="Address"></textarea>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <textarea matInput placeholder="Address 2"></textarea>
        </mat-form-field>
      </p>

    </mat-list-item>
    <mat-list-item >

            <mat-form-field>
              <input matInput formControlName="city" placeholder="City">
            </mat-form-field>
            <mat-form-field >
              <input matInput formControlName="country" placeholder="Country">
            </mat-form-field>
            <mat-form-field >
              <input matInput formControlName="city" #postalCode maxlength="6" placeholder="Postal Code">
              <mat-hint align="end">{{postalCode.value.length}} / 6</mat-hint>
            </mat-form-field>

    </mat-list-item>
    </mat-list>
    
  <button [disabled]="isDisabled()" type="submit" mat-raised-button routerLink="/cart/order" color="primary">Place Order</button>
</form>
